Ext.testHelper={defaultTarget:document.createElement("div"),createTouchList:function(B){var E=[],A,D,C;for(A=0,D=B.length;A<D;A++){C=B[A];E.push(this.createTouch(C))}return E},createTouch:function(A){return Ext.merge({target:this.defaultTarget,timeStamp:Ext.Date.now(),time:Ext.Date.now(),pageX:0,pageY:0,identifier:0,point:new Ext.util.Point(A.pageX||0,A.pageY||0)},A||{})},createTouchEvent:function(B){var A=Ext.merge({type:"touchstart",target:this.defaultTarget,timeStamp:Ext.Date.now(),time:Ext.Date.now(),touches:[],changedTouches:[],targetTouches:[],pageX:0,pageY:0},B||{});A.touches=this.createTouchList(A.touches);A.changedTouches=this.createTouchList(A.changedTouches);A.targetTouches=this.createTouchList(A.targetTouches);return A},createTouchEvents:function(C){var B=[],A,D,E;for(A=0,D=C.length;A<D;A++){E=C[A];B.push(this.createTouchEvent(E))}return B},recognize:function(H,G){var F=0,D,B,A;G=this.createTouchEvents(G);mainLoop:for(D=0,B=G.length;D<B;D++){A=G[D];switch(A.type){case"touchstart":var E=A.changedTouches.length,C=F>0;F+=E;if(!C){if(H.onStart(A)===false){break mainLoop}}if(H.onTouchStart(A)===false){break mainLoop}break;case"touchmove":if(H.onTouchMove(A)===false){break mainLoop}break;case"touchend":E=A.changedTouches.length;F-=E;if(H.onTouchEnd(A)===false){break mainLoop}if(this.currentTouchesCount===0){if(H.onEnd(A)===false){break mainLoop}}break}}return G},events:(Ext.supports.PointerEvents)?{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}:(Ext.supports.MSPointerEvents)?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"}:(Ext.supports.TouchEvents)?{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}:{start:"mousedown",move:"mousemove",end:"mouseup"},fireEvent:function(B,F,H){var G=this.events[B],C={},A,E,D;if(Ext.supports.PointerEvents||Ext.supports.MSPointerEvents){jasmine.firePointerEvent(F,G,H.id,H.x,H.y,H.button||0)}else{if(Ext.supports.TouchEvents){A=C[H.id]={identifier:H.id,pageX:H.x,pageY:H.y};if(G==="touchend"||G==="touchcancel"){delete C[H.id]}D=[];for(E in C){D.push(C[E])}jasmine.fireTouchEvent(F,G,D,[A])}else{jasmine.fireMouseEvent(F,G,H.x,H.y,H.button?H.button:0)}}},touchStart:function(B,A){this.fireEvent("start",B,A)},touchMove:function(B,A){this.fireEvent("move",B,A)},touchEnd:function(B,A){this.fireEvent("end",B,A)},touchCancel:function(B,A){this.fireEvent("cancel",B,A)}};