describe("Ext.util.TextMetrics",function(){var B="The quick brown fox jumps over the lazy dog",A,E,D,F,C;beforeEach(function(){C=function(G,H){return Ext.getBody().createChild({style:G+":"+H})};D=function(G,H,J,I){Ext.destroy(E);A=C(G,H);E=new Ext.util.TextMetrics(A,J);A.destroy();return E.getSize(I||B)};F=function(H,I,K,J){var G;A=C(H,I);G=Ext.util.TextMetrics.measure(A,J||B,K);A.destroy();return G}});afterEach(function(){Ext.destroy(E);D=F=C=E=null});describe("width",function(){describe("styles that should affect sizing",function(){describe("font size",function(){var G;beforeEach(function(){G=F("font-size","16px").width});it("should affect instance sizing",function(){var H=D("font-size","8px").width;expect(H).toBeLessThan(G);H=D("font-size","24px").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("font-size","8px").width;expect(H).toBeLessThan(G);H=F("font-size","24px").width;expect(H).toBeGreaterThan(G)})});describe("font weight",function(){var G;beforeEach(function(){G=F("font-weight","normal").width});it("should affect instance sizing",function(){var H=D("font-weight","bold").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("font-weight","bold").width;expect(H).toBeGreaterThan(G)})});describe("font family",function(){var G;beforeEach(function(){G=F("font-family","Arial").width});it("should affect instance sizing",function(){var H=D("font-family","Tahoma").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("font-family","Tahoma").width;expect(H).toBeGreaterThan(G)})});xdescribe("text transform",function(){var G;beforeEach(function(){G=F("text-transform","lowercase").width});it("should affect instance sizing",function(){var H=D("text-transform","uppercase").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("text-transform","uppercase").width;expect(H).toBeGreaterThan(G)})});describe("letter spacing",function(){var G;beforeEach(function(){G=F("letter-spacing","16px").width});it("should affect instance sizing",function(){var H=D("letter-spacing","8px").width;expect(H).toBeLessThan(G);H=D("letter-spacing","24px").width;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("letter-spacing","8px").width;expect(H).toBeLessThan(G);H=F("letter-spacing","24px").width;expect(H).toBeGreaterThan(G)})})})});describe("height",function(){describe("styles that should affect sizing",function(){describe("font size",function(){var G;beforeEach(function(){G=F("font-size","16px",300).height});it("should affect instance sizing",function(){var H=D("font-size","8px",300).height;expect(H).toBeLessThan(G);H=D("font-size","24px",300).height;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("font-size","8px",300).height;expect(H).toBeLessThan(G);H=F("font-size","24px",300).height;expect(H).toBeGreaterThan(G)})});describe("line height",function(){var G;beforeEach(function(){G=F("line-height","16px",300).height});it("should affect instance sizing",function(){var H=D("line-height","8px",300).height;expect(H).toBeLessThan(G);H=D("line-height","24px",300).height;expect(H).toBeGreaterThan(G)});it("should affect static sizing",function(){var H=F("line-height","8px",300).height;expect(H).toBeLessThan(G);H=F("line-height","24px",300).height;expect(H).toBeGreaterThan(G)})})})});describe("dynamic binding",function(){it("should be able to bind to different elements using an instance",function(){var J,G,H,I,K;K=new Ext.util.TextMetrics();I=C("font-size","8px");K.bind(I);J=K.getWidth(B);I.destroy();I=C("font-size","16px");K.bind(I);G=K.getWidth(B);I.destroy();I=C("font-size","24px");K.bind(I);H=K.getWidth(B);I.destroy();expect(H).toBeGreaterThan(G);expect(G).toBeGreaterThan(J);Ext.destroy(K)});it("should measure different elements using the static method",function(){var J,G,H,I;I=C("font-size","8px");J=Ext.util.TextMetrics.measure(I,B).width;I.destroy();I=C("font-size","16px");G=Ext.util.TextMetrics.measure(I,B).width;I.destroy();I=C("font-size","24px");H=Ext.util.TextMetrics.measure(I,B).width;I.destroy();expect(H).toBeGreaterThan(G);expect(G).toBeGreaterThan(J)})});describe("property copying",function(){it("should copy font-size",function(){D("font-size","53px");expect(E.measure.getStyle("font-size")).toBe("53px")});it("should copy font-style",function(){D("font-style","italic");expect(E.measure.getStyle("font-style")).toBe("italic")});it("should copy font-weight",function(){D("font-weight","900");expect(String(E.measure.getStyle("font-weight"))).toBe("900")});it("should copy font-family",function(){D("font-family","Arial");expect(E.measure.getStyle("font-family")).toBe("Arial")});it("should copy line-height",function(){D("line-height","20px");expect(E.measure.getStyle("line-height")).toBe("20px")});it("should copy text-transform",function(){D("text-transform","uppercase");expect(E.measure.getStyle("text-transform")).toBe("uppercase")});it("should copy letter-spacing",function(){D("letter-spacing","3px");expect(E.measure.getStyle("letter-spacing")).toBe("3px")});it("should copy word-break",function(){D("word-break","break-all");expect(E.measure.getStyle("word-break")).toBe("break-all")})})});