var isCommonJS=typeof window=="undefined"&&typeof exports=="object";var jasmine={};if(isCommonJS){exports.jasmine=jasmine}jasmine.unimplementedMethod_=function(){throw new Error("unimplemented method")};jasmine.undefined=jasmine.___undefined___;jasmine.VERBOSE=false;jasmine.DEFAULT_UPDATE_INTERVAL=250;jasmine.MAX_PRETTY_PRINT_DEPTH=40;jasmine.DEFAULT_TIMEOUT_INTERVAL=5000;jasmine.CATCH_EXCEPTIONS=true;jasmine.getGlobal=function(){function A(){return this}return A()};jasmine.bindOriginal_=function(C,B){var A=C[B];if(A.apply){return function(){return A.apply(C,arguments)}}else{return jasmine.getGlobal()[B]}};jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"setTimeout");jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"clearTimeout");jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"setInterval");jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"clearInterval");jasmine.MessageResult=function(A){this.type="log";this.values=A;this.trace=new Error()};jasmine.MessageResult.prototype.toString=function(){var B="";for(var A=0;A<this.values.length;A++){if(A>0){B+=" "}if(jasmine.isString_(this.values[A])){B+=this.values[A]}else{B+=jasmine.pp(this.values[A])}}return B};jasmine.ExpectationResult=function(B){this.type="expect";this.matcherName=B.matcherName;this.passed_=B.passed;this.expected=B.expected;this.actual=B.actual;this.message=this.passed_?"Passed.":B.message;var A=(B.trace||new Error(this.message));this.trace=this.passed_?"":A};jasmine.ExpectationResult.prototype.toString=function(){return this.message};jasmine.ExpectationResult.prototype.passed=function(){return this.passed_};jasmine.getEnv=function(){var A=jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env();return A};jasmine.isArray_=function(A){return jasmine.isA_("Array",A)};jasmine.isString_=function(A){return jasmine.isA_("String",A)};jasmine.isNumber_=function(A){return jasmine.isA_("Number",A)};jasmine.isA_=function(A,B){return Object.prototype.toString.apply(B)==="[object "+A+"]"};jasmine.pp=function(B){var A=new jasmine.StringPrettyPrinter();A.format(B);return A.string};jasmine.isDomNode=function(A){return A.nodeType>0};jasmine.any=function(A){return new jasmine.Matchers.Any(A)};jasmine.objectContaining=function(A){return new jasmine.Matchers.ObjectContaining(A)};jasmine.Spy=function(A){this.identity=A||"unknown";this.isSpy=true;this.plan=function(){};this.mostRecentCall={};this.argsForCall=[];this.calls=[]};jasmine.Spy.prototype.andCallThrough=function(){this.plan=this.originalValue;return this};jasmine.Spy.prototype.andReturn=function(A){this.plan=function(){return A};return this};jasmine.Spy.prototype.andThrow=function(A){this.plan=function(){throw A};return this};jasmine.Spy.prototype.andCallFake=function(A){this.plan=A;return this};jasmine.Spy.prototype.reset=function(){this.wasCalled=false;this.callCount=0;this.argsForCall=[];this.calls=[];this.mostRecentCall={}};jasmine.createSpy=function(A){var B=function(){B.wasCalled=true;B.callCount++;var E=jasmine.util.argsToArray(arguments);B.mostRecentCall.object=this;B.mostRecentCall.args=E;B.argsForCall.push(E);B.calls.push({object:this,args:E});return B.plan.apply(this,arguments)};var C=new jasmine.Spy(A);for(var D in C){B[D]=C[D]}B.reset();return B};jasmine.isSpy=function(A){return A&&A.isSpy};jasmine.createSpyObj=function(D,C){if(!jasmine.isArray_(C)||C.length===0){throw new Error("createSpyObj requires a non-empty array of method names to create spies for")}var B={};for(var A=0;A<C.length;A++){B[C[A]]=jasmine.createSpy(D+"."+C[A])}return B};jasmine.log=function(){var A=jasmine.getEnv().currentSpec;A.log.apply(A,arguments)};var spyOn=function(A,B){return jasmine.getEnv().currentSpec.spyOn(A,B)};if(isCommonJS){exports.spyOn=spyOn}var it=function(A,B){return jasmine.getEnv().it(A,B)};if(isCommonJS){exports.it=it}var xit=function(A,B){return jasmine.getEnv().xit(A,B)};if(isCommonJS){exports.xit=xit}var expect=function(A){return jasmine.getEnv().currentSpec.expect(A)};if(isCommonJS){exports.expect=expect}var runs=function(A){jasmine.getEnv().currentSpec.runs(A)};if(isCommonJS){exports.runs=runs}var waits=function(A){jasmine.getEnv().currentSpec.waits(A)};if(isCommonJS){exports.waits=waits}var waitsFor=function(B,A,C){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments)};if(isCommonJS){exports.waitsFor=waitsFor}var beforeEach=function(A){jasmine.getEnv().beforeEach(A)};if(isCommonJS){exports.beforeEach=beforeEach}var afterEach=function(A){jasmine.getEnv().afterEach(A)};if(isCommonJS){exports.afterEach=afterEach}var describe=function(B,A){return jasmine.getEnv().describe(B,A)};if(isCommonJS){exports.describe=describe}var xdescribe=function(B,A){return jasmine.getEnv().xdescribe(B,A)};if(isCommonJS){exports.xdescribe=xdescribe}jasmine.XmlHttpRequest=(typeof XMLHttpRequest=="undefined")?function(){function B(D){try{return D()}catch(C){}return null}var A=B(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||B(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||B(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||B(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!A){throw new Error("This browser does not support XMLHttpRequest.")}return A}:XMLHttpRequest;jasmine.util={};jasmine.util.inherit=function(B,A){var C=function(){};C.prototype=A.prototype;B.prototype=new C()};jasmine.util.formatException=function(B){var C;if(B.line){C=B.line}else{if(B.lineNumber){C=B.lineNumber}}var D;if(B.sourceURL){D=B.sourceURL}else{if(B.fileName){D=B.fileName}}var A=(B.name&&B.message)?(B.name+": "+B.message):B.toString();if(D&&C){A+=" in "+D+" (line "+C+")"}return A};jasmine.util.htmlEscape=function(A){if(!A){return A}return A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};jasmine.util.argsToArray=function(C){var B=[];for(var A=0;A<C.length;A++){B.push(C[A])}return B};jasmine.util.extend=function(A,B){for(var C in B){A[C]=B[C]}return A};jasmine.Env=function(){this.currentSpec=null;this.currentSuite=null;this.currentRunner_=new jasmine.Runner(this);this.reporter=new jasmine.MultiReporter();this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL;this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL;this.lastUpdate=0;this.specFilter=function(){return true};this.nextSpecId_=0;this.nextSuiteId_=0;this.equalityTesters_=[];this.matchersClass=function(){jasmine.Matchers.apply(this,arguments)};jasmine.util.inherit(this.matchersClass,jasmine.Matchers);jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass)};jasmine.Env.prototype.setTimeout=jasmine.setTimeout;jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout;jasmine.Env.prototype.setInterval=jasmine.setInterval;jasmine.Env.prototype.clearInterval=jasmine.clearInterval;jasmine.Env.prototype.version=function(){if(jasmine.version_){return jasmine.version_}else{throw new Error("Version not set")}};jasmine.Env.prototype.versionString=function(){if(!jasmine.version_){return"version unknown"}var B=this.version();var A=B.major+"."+B.minor+"."+B.build;if(B.release_candidate){A+=".rc"+B.release_candidate}A+=" revision "+B.revision;return A};jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++};jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++};jasmine.Env.prototype.addReporter=function(A){this.reporter.addReporter(A)};jasmine.Env.prototype.execute=function(){this.currentRunner_.execute()};jasmine.Env.prototype.describe=function(D,C){var F=new jasmine.Suite(this,D,C,this.currentSuite);var E=this.currentSuite;if(E){E.add(F)}else{this.currentRunner_.add(F)}this.currentSuite=F;var B=null;try{C.call(F)}catch(A){B=A}if(B){this.it("encountered a declaration exception",function(){throw B})}this.currentSuite=E;return F};jasmine.Env.prototype.beforeEach=function(A){if(this.currentSuite){this.currentSuite.beforeEach(A)}else{this.currentRunner_.beforeEach(A)}};jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_};jasmine.Env.prototype.afterEach=function(A){if(this.currentSuite){this.currentSuite.afterEach(A)}else{this.currentRunner_.afterEach(A)}};jasmine.Env.prototype.xdescribe=function(A,B){return{execute:function(){}}};jasmine.Env.prototype.it=function(B,A){var C=new jasmine.Spec(this,this.currentSuite,B);this.currentSuite.add(C);this.currentSpec=C;if(A){C.runs(A)}return C};jasmine.Env.prototype.xit=function(A,B){return{id:this.nextSpecId(),runs:function(){}}};jasmine.Env.prototype.compareRegExps_=function(D,B,C,A){if(D.source!=B.source){A.push("expected pattern /"+B.source+"/ is not equal to the pattern /"+D.source+"/")}if(D.ignoreCase!=B.ignoreCase){A.push("expected modifier i was"+(B.ignoreCase?" ":" not ")+"set and does not equal the origin modifier")}if(D.global!=B.global){A.push("expected modifier g was"+(B.global?" ":" not ")+"set and does not equal the origin modifier")}if(D.multiline!=B.multiline){A.push("expected modifier m was"+(B.multiline?" ":" not ")+"set and does not equal the origin modifier")}if(D.sticky!=B.sticky){A.push("expected modifier y was"+(B.sticky?" ":" not ")+"set and does not equal the origin modifier")}return(A.length===0)};jasmine.Env.prototype.compareObjects_=function(F,D,E,A){if(F.__Jasmine_been_here_before__===D&&D.__Jasmine_been_here_before__===F){return true}F.__Jasmine_been_here_before__=D;D.__Jasmine_been_here_before__=F;var B=function(G,H){return G!==null&&G[H]!==jasmine.undefined};for(var C in D){if(!B(F,C)&&B(D,C)){E.push("expected has key '"+C+"', but missing from actual.")}}for(C in F){if(!B(D,C)&&B(F,C)){E.push("expected missing key '"+C+"', but present in actual.")}}for(C in D){if(C=="__Jasmine_been_here_before__"){continue}if(!this.equals_(F[C],D[C],E,A)){A.push("'"+C+"' was '"+(D[C]?jasmine.util.htmlEscape(D[C].toString()):D[C])+"' in expected, but was '"+(F[C]?jasmine.util.htmlEscape(F[C].toString()):F[C])+"' in actual.")}}if(jasmine.isArray_(F)&&jasmine.isArray_(D)&&F.length!=D.length){A.push("arrays were not the same length")}delete F.__Jasmine_been_here_before__;delete D.__Jasmine_been_here_before__;return(E.length===0&&A.length===0)};jasmine.Env.prototype.equals_=function(G,E,F,A){F=F||[];A=A||[];for(var B=0;B<this.equalityTesters_.length;B++){var C=this.equalityTesters_[B];var D=C(G,E,this,F,A);if(D!==jasmine.undefined){return D}}if(G===E){return true}if(G===jasmine.undefined||G===null||E===jasmine.undefined||E===null){return(G==jasmine.undefined&&E==jasmine.undefined)}if(jasmine.isDomNode(G)&&jasmine.isDomNode(E)){return G===E}if(G instanceof Date&&E instanceof Date){return G.getTime()==E.getTime()}if(G.jasmineMatches){return G.jasmineMatches(E)}if(E.jasmineMatches){return E.jasmineMatches(G)}if(G instanceof jasmine.Matchers.ObjectContaining){return G.matches(E)}if(E instanceof jasmine.Matchers.ObjectContaining){return E.matches(G)}if(jasmine.isString_(G)&&jasmine.isString_(E)){return(G==E)}if(jasmine.isNumber_(G)&&jasmine.isNumber_(E)){return(G==E)}if(G instanceof RegExp&&E instanceof RegExp){return this.compareRegExps_(G,E,F,A)}if(typeof G==="object"&&typeof E==="object"){return this.compareObjects_(G,E,F,A)}return(G===E)};jasmine.Env.prototype.contains_=function(C,A){if(jasmine.isArray_(C)){for(var B=0;B<C.length;B++){if(this.equals_(C[B],A)){return true}}return false}return C.indexOf(A)>=0};jasmine.Env.prototype.addEqualityTester=function(A){this.equalityTesters_.push(A)};jasmine.Reporter=function(){};jasmine.Reporter.prototype.reportRunnerStarting=function(A){};jasmine.Reporter.prototype.reportRunnerResults=function(A){};jasmine.Reporter.prototype.reportSuiteResults=function(A){};jasmine.Reporter.prototype.reportSpecStarting=function(A){};jasmine.Reporter.prototype.reportSpecResults=function(A){};jasmine.Reporter.prototype.log=function(A){};jasmine.Block=function(A,B,C){this.env=A;this.func=B;this.spec=C};jasmine.Block.prototype.execute=function(A){if(!jasmine.CATCH_EXCEPTIONS){this.func.apply(this.spec)}else{try{this.func.apply(this.spec)}catch(B){this.spec.fail(B)}}A()};jasmine.JsApiReporter=function(){this.started=false;this.finished=false;this.suites_=[];this.results_={}};jasmine.JsApiReporter.prototype.reportRunnerStarting=function(B){this.started=true;var C=B.topLevelSuites();for(var A=0;A<C.length;A++){var D=C[A];this.suites_.push(this.summarize_(D))}};jasmine.JsApiReporter.prototype.suites=function(){return this.suites_};jasmine.JsApiReporter.prototype.summarize_=function(D){var A=D instanceof jasmine.Suite;var B={id:D.id,name:D.description,type:A?"suite":"spec",children:[]};if(A){var E=D.children();for(var C=0;C<E.length;C++){B.children.push(this.summarize_(E[C]))}}return B};jasmine.JsApiReporter.prototype.results=function(){return this.results_};jasmine.JsApiReporter.prototype.resultsForSpec=function(A){return this.results_[A]};jasmine.JsApiReporter.prototype.reportRunnerResults=function(A){this.finished=true};jasmine.JsApiReporter.prototype.reportSuiteResults=function(A){};jasmine.JsApiReporter.prototype.reportSpecResults=function(A){this.results_[A.id]={messages:A.results().getItems(),result:A.results().failedCount>0?"failed":"passed"}};jasmine.JsApiReporter.prototype.log=function(A){};jasmine.JsApiReporter.prototype.resultsForSpecs=function(D){var C={};for(var B=0;B<D.length;B++){var A=D[B];C[A]=this.summarizeResult_(this.results_[A])}return C};jasmine.JsApiReporter.prototype.summarizeResult_=function(C){var D=[];var E=C.messages.length;for(var A=0;A<E;A++){var B=C.messages[A];D.push({text:B.type=="log"?B.toString():jasmine.undefined,passed:B.passed?B.passed():true,type:B.type,message:B.message,trace:{stack:B.passed&&!B.passed()?B.trace.stack:jasmine.undefined}})}return{result:C.result,messages:D}};jasmine.Matchers=function(A,D,C,B){this.env=A;this.actual=D;this.spec=C;this.isNot=B||false;this.reportWasCalled_=false};jasmine.Matchers.pp=function(A){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!")};jasmine.Matchers.prototype.report=function(A,C,B){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs")};jasmine.Matchers.wrapInto_=function(D,B){for(var C in D){if(C=="report"){continue}var A=D[C];B.prototype[C]=jasmine.Matchers.matcherFn_(C,A)}};jasmine.Matchers.matcherFn_=function(A,B){return function(){var G=jasmine.util.argsToArray(arguments);var F=B.apply(this,arguments);if(this.isNot){F=!F}if(this.reportWasCalled_){return F}var H;if(!F){if(this.message){H=this.message.apply(this,arguments);if(jasmine.isArray_(H)){H=H[this.isNot?1:0]}}else{var C=A.replace(/[A-Z]/g,function(I){return" "+I.toLowerCase()});H="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+C;if(G.length>0){for(var D=0;D<G.length;D++){if(D>0){H+=","}H+=" "+jasmine.pp(G[D])}}H+="."}}var E=new jasmine.ExpectationResult({matcherName:A,passed:F,expected:G.length>1?G:G[0],actual:this.actual,message:H});this.spec.addMatcherResult(E);return jasmine.undefined}};jasmine.Matchers.prototype.toBe=function(A){return this.actual===A};jasmine.Matchers.prototype.toNotBe=function(A){return this.actual!==A};jasmine.Matchers.prototype.toEqual=function(A){return this.env.equals_(this.actual,A)};jasmine.Matchers.prototype.toNotEqual=function(A){return !this.env.equals_(this.actual,A)};jasmine.Matchers.prototype.toMatch=function(A){return new RegExp(A).test(this.actual)};jasmine.Matchers.prototype.toNotMatch=function(A){return !(new RegExp(A).test(this.actual))};jasmine.Matchers.prototype.toBeDefined=function(){return(this.actual!==jasmine.undefined)};jasmine.Matchers.prototype.toBeUndefined=function(){return(this.actual===jasmine.undefined)};jasmine.Matchers.prototype.toBeNull=function(){return(this.actual===null)};jasmine.Matchers.prototype.toBeNaN=function(){this.message=function(){return["Expected "+jasmine.pp(this.actual)+" to be NaN."]};return(this.actual!==this.actual)};jasmine.Matchers.prototype.toBeTruthy=function(){return !!this.actual};jasmine.Matchers.prototype.toBeFalsy=function(){return !this.actual};jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0){throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith")}if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]};return this.actual.wasCalled};jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled;jasmine.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0){throw new Error("wasNotCalled does not take arguments")}if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]};return !this.actual.wasCalled};jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var A=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){var C="Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(A)+" but it was.";var B="";if(this.actual.callCount===0){B="Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(A)+" but it was never called."}else{B="Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(A)+" but actual calls were "+jasmine.pp(this.actual.argsForCall).replace(/^\[ | \]$/g,"")}return[B,C]};return this.env.contains_(this.actual.argsForCall,A)};jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith;jasmine.Matchers.prototype.wasNotCalledWith=function(){var A=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(A)+" but it was","Expected spy to have been called with "+jasmine.pp(A)+" but it was"]};return !this.env.contains_(this.actual.argsForCall,A)};jasmine.Matchers.prototype.toContain=function(A){return this.env.contains_(this.actual,A)};jasmine.Matchers.prototype.toNotContain=function(A){return !this.env.contains_(this.actual,A)};jasmine.Matchers.prototype.toBeLessThan=function(A){return this.actual<A};jasmine.Matchers.prototype.toBeGreaterThan=function(A){return this.actual>A};jasmine.Matchers.prototype.toBeCloseTo=function(A,B){if(!(B===0)){B=B||2}return Math.abs(A-this.actual)<(Math.pow(10,-B)/2)};jasmine.Matchers.prototype.toThrow=function(B){var D=false;var E;if(typeof this.actual!="function"){throw new Error("Actual is not a function")}try{this.actual()}catch(A){E=A}if(E){D=(B===jasmine.undefined||this.env.equals_(E.message||E,B.message||B))}var C=this.isNot?"not ":"";this.message=function(){if(E&&(B===jasmine.undefined||!this.env.equals_(E.message||E,B.message||B))){return["Expected function "+C+"to throw",B?B.message||B:"an exception",", but it threw",E.message||E].join(" ")}else{return"Expected function to throw an exception."}};return D};jasmine.Matchers.Any=function(A){this.expectedClass=A};jasmine.Matchers.Any.prototype.jasmineMatches=function(A){if(this.expectedClass==String){return typeof A=="string"||A instanceof String}if(this.expectedClass==Number){return typeof A=="number"||A instanceof Number}if(this.expectedClass==Function){return typeof A=="function"||A instanceof Function}if(this.expectedClass==Object){return typeof A=="object"}return A instanceof this.expectedClass};jasmine.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"};jasmine.Matchers.ObjectContaining=function(A){this.sample=A};jasmine.Matchers.ObjectContaining.prototype.jasmineMatches=function(F,D,A){D=D||[];A=A||[];var C=jasmine.getEnv();var B=function(G,H){return G!=null&&G[H]!==jasmine.undefined};for(var E in this.sample){if(!B(F,E)&&B(this.sample,E)){D.push("expected has key '"+E+"', but missing from actual.")}else{if(!C.equals_(this.sample[E],F[E],D,A)){A.push("'"+E+"' was '"+(F[E]?jasmine.util.htmlEscape(F[E].toString()):F[E])+"' in expected, but was '"+(this.sample[E]?jasmine.util.htmlEscape(this.sample[E].toString()):this.sample[E])+"' in actual.")}}}return(D.length===0&&A.length===0)};jasmine.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+jasmine.pp(this.sample)+")>"};jasmine.FakeTimer=function(){this.reset();var A=this;A.setTimeout=function(B,C){A.timeoutsMade++;A.scheduleFunction(A.timeoutsMade,B,C,false);return A.timeoutsMade};A.setInterval=function(B,C){A.timeoutsMade++;A.scheduleFunction(A.timeoutsMade,B,C,true);return A.timeoutsMade};A.clearTimeout=function(B){A.scheduledFunctions[B]=jasmine.undefined};A.clearInterval=function(B){A.scheduledFunctions[B]=jasmine.undefined}};jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0;this.scheduledFunctions={};this.nowMillis=0};jasmine.FakeTimer.prototype.tick=function(B){var C=this.nowMillis;var A=C+B;this.runFunctionsWithinRange(C,A);this.nowMillis=A};jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(D,B){var C;var G=[];for(var H in this.scheduledFunctions){C=this.scheduledFunctions[H];if(C!=jasmine.undefined&&C.runAtMillis>=D&&C.runAtMillis<=B){G.push(C);this.scheduledFunctions[H]=jasmine.undefined}}if(G.length>0){G.sort(function(J,I){return J.runAtMillis-I.runAtMillis});for(var F=0;F<G.length;++F){try{var E=G[F];this.nowMillis=E.runAtMillis;E.funcToCall();if(E.recurring){this.scheduleFunction(E.timeoutKey,E.funcToCall,E.millis,true)}}catch(A){}}this.runFunctionsWithinRange(D,B)}};jasmine.FakeTimer.prototype.scheduleFunction=function(A,B,D,C){this.scheduledFunctions[A]={runAtMillis:this.nowMillis+D,funcToCall:B,recurring:C,timeoutKey:A,millis:D}};jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer(),reset:function(){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.reset()},tick:function(A){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.tick(A)},runFunctionsWithinRange:function(B,A){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(B,A)},scheduleFunction:function(A,B,D,C){jasmine.Clock.defaultFakeTimer.scheduleFunction(A,B,D,C)},useMock:function(){if(!jasmine.Clock.isInstalled()){var A=jasmine.getEnv().currentSpec;A.after(jasmine.Clock.uninstallMock);jasmine.Clock.installMock()}},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer},uninstallMock:function(){jasmine.Clock.assertInstalled();jasmine.Clock.installed=jasmine.Clock.real},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled()){throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()")}},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer},installed:null};jasmine.Clock.installed=jasmine.Clock.real;jasmine.getGlobal().setTimeout=function(A,B){if(jasmine.Clock.installed.setTimeout.apply){return jasmine.Clock.installed.setTimeout.apply(this,arguments)}else{return jasmine.Clock.installed.setTimeout(A,B)}};jasmine.getGlobal().setInterval=function(A,B){if(jasmine.Clock.installed.setInterval.apply){return jasmine.Clock.installed.setInterval.apply(this,arguments)}else{return jasmine.Clock.installed.setInterval(A,B)}};jasmine.getGlobal().clearTimeout=function(A){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearTimeout.apply(this,arguments)}else{return jasmine.Clock.installed.clearTimeout(A)}};jasmine.getGlobal().clearInterval=function(A){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearInterval.apply(this,arguments)}else{return jasmine.Clock.installed.clearInterval(A)}};jasmine.MultiReporter=function(){this.subReporters_=[]};jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter);jasmine.MultiReporter.prototype.addReporter=function(A){this.subReporters_.push(A)};(function(){var B=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"];for(var A=0;A<B.length;A++){var C=B[A];jasmine.MultiReporter.prototype[C]=(function(D){return function(){for(var F=0;F<this.subReporters_.length;F++){var E=this.subReporters_[F];if(E[D]){E[D].apply(E,arguments)}}}})(C)}})();jasmine.NestedResults=function(){this.totalCount=0;this.passedCount=0;this.failedCount=0;this.skipped=false;this.items_=[]};jasmine.NestedResults.prototype.rollupCounts=function(A){this.totalCount+=A.totalCount;this.passedCount+=A.passedCount;this.failedCount+=A.failedCount};jasmine.NestedResults.prototype.log=function(A){this.items_.push(new jasmine.MessageResult(A))};jasmine.NestedResults.prototype.getItems=function(){return this.items_};jasmine.NestedResults.prototype.addResult=function(A){if(A.type!="log"){if(A.items_){this.rollupCounts(A)}else{this.totalCount++;if(A.passed()){this.passedCount++}else{this.failedCount++}}}this.items_.push(A)};jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount};jasmine.PrettyPrinter=function(){this.ppNestLevel_=0};jasmine.PrettyPrinter.prototype.format=function(A){this.ppNestLevel_++;try{if(A===jasmine.undefined){this.emitScalar("undefined")}else{if(A===null){this.emitScalar("null")}else{if(A===jasmine.getGlobal()){this.emitScalar("<global>")}else{if(A.jasmineToString){this.emitScalar(A.jasmineToString())}else{if(typeof A==="string"){this.emitString(A)}else{if(jasmine.isSpy(A)){this.emitScalar("spy on "+A.identity)}else{if(A instanceof RegExp){this.emitScalar(A.toString())}else{if(typeof A==="function"){this.emitScalar("Function")}else{if(typeof A.nodeType==="number"){this.emitScalar("HTMLNode")}else{if(A instanceof Date){this.emitScalar("Date("+A+")")}else{if(A.__Jasmine_been_here_before__){this.emitScalar("<circular reference: "+(jasmine.isArray_(A)?"Array":"Object")+">")}else{if(jasmine.isArray_(A)||typeof A=="object"){A.__Jasmine_been_here_before__=true;if(jasmine.isArray_(A)){this.emitArray(A)}else{this.emitObject(A)}delete A.__Jasmine_been_here_before__}else{this.emitScalar(A.toString())}}}}}}}}}}}}}finally{this.ppNestLevel_--}};jasmine.PrettyPrinter.prototype.iterateObject=function(A,B){for(var C in A){if(!A.hasOwnProperty(C)){continue}if(C=="__Jasmine_been_here_before__"){continue}B(C,A.__lookupGetter__?(A.__lookupGetter__(C)!==jasmine.undefined&&A.__lookupGetter__(C)!==null):false)}};jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_;jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this);this.string=""};jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter);jasmine.StringPrettyPrinter.prototype.emitScalar=function(A){this.append(A)};jasmine.StringPrettyPrinter.prototype.emitString=function(A){this.append("'"+A+"'")};jasmine.StringPrettyPrinter.prototype.emitArray=function(A){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Array");return}this.append("[ ");for(var B=0;B<A.length;B++){if(B>0){this.append(", ")}this.format(A[B])}this.append(" ]")};jasmine.StringPrettyPrinter.prototype.emitObject=function(A){if(this.ppNestLevel_>jasmine.MAX_PRETTY_PRINT_DEPTH){this.append("Object");return}var C=this;this.append("{ ");var B=true;this.iterateObject(A,function(D,E){if(B){B=false}else{C.append(", ")}C.append(D);C.append(" : ");if(E){C.append("<getter>")}else{C.format(A[D])}});this.append(" }")};jasmine.StringPrettyPrinter.prototype.append=function(A){this.string+=A};jasmine.Queue=function(A){this.env=A;this.ensured=[];this.blocks=[];this.running=false;this.index=0;this.offset=0;this.abort=false};jasmine.Queue.prototype.addBefore=function(B,A){if(A===jasmine.undefined){A=false}this.blocks.unshift(B);this.ensured.unshift(A)};jasmine.Queue.prototype.add=function(B,A){if(A===jasmine.undefined){A=false}this.blocks.push(B);this.ensured.push(A)};jasmine.Queue.prototype.insertNext=function(B,A){if(A===jasmine.undefined){A=false}this.ensured.splice((this.index+this.offset+1),0,A);this.blocks.splice((this.index+this.offset+1),0,B);this.offset++};jasmine.Queue.prototype.start=function(A){this.running=true;this.onComplete=A;this.next_()};jasmine.Queue.prototype.isRunning=function(){return this.running};jasmine.Queue.LOOP_DONT_RECURSE=true;jasmine.Queue.prototype.next_=function(){var B=this;var D=true;while(D){D=false;if(B.index<B.blocks.length&&!(this.abort&&!this.ensured[B.index])){var C=true;var E=false;var A=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&C){E=true;return}if(B.blocks[B.index].abort){B.abort=true}B.offset=0;B.index++;var F=new Date().getTime();if(B.env.updateInterval&&F-B.env.lastUpdate>B.env.updateInterval){B.env.lastUpdate=F;B.env.setTimeout(function(){B.next_()},0)}else{if(jasmine.Queue.LOOP_DONT_RECURSE&&E){D=true}else{B.next_()}}};B.blocks[B.index].execute(A);C=false;if(E){A()}}else{B.running=false;if(B.onComplete){B.onComplete()}}}};jasmine.Queue.prototype.results=function(){var B=new jasmine.NestedResults();for(var A=0;A<this.blocks.length;A++){if(this.blocks[A].results){B.addResult(this.blocks[A].results())}}return B};jasmine.Runner=function(A){var B=this;B.env=A;B.queue=new jasmine.Queue(A);B.before_=[];B.after_=[];B.suites_=[]};jasmine.Runner.prototype.execute=function(){var A=this;if(A.env.reporter.reportRunnerStarting){A.env.reporter.reportRunnerStarting(this)}A.queue.start(function(){A.finishCallback()})};jasmine.Runner.prototype.beforeEach=function(A){A.typeName="beforeEach";this.before_.splice(0,0,A)};jasmine.Runner.prototype.afterEach=function(A){A.typeName="afterEach";this.after_.splice(0,0,A)};jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)};jasmine.Runner.prototype.addSuite=function(A){this.suites_.push(A)};jasmine.Runner.prototype.add=function(A){if(A instanceof jasmine.Suite){this.addSuite(A)}this.queue.add(A)};jasmine.Runner.prototype.specs=function(){var B=this.suites();var C=[];for(var A=0;A<B.length;A++){C=C.concat(B[A].specs())}return C};jasmine.Runner.prototype.suites=function(){return this.suites_};jasmine.Runner.prototype.topLevelSuites=function(){var B=[];for(var A=0;A<this.suites_.length;A++){if(!this.suites_[A].parentSuite){B.push(this.suites_[A])}}return B};jasmine.Runner.prototype.results=function(){return this.queue.results()};jasmine.Spec=function(A,D,B){if(!A){throw new Error("jasmine.Env() required")}if(!D){throw new Error("jasmine.Suite() required")}var C=this;C.id=A.nextSpecId?A.nextSpecId():null;C.env=A;C.suite=D;C.description=B;C.queue=new jasmine.Queue(A);C.afterCallbacks=[];C.spies_=[];C.results_=new jasmine.NestedResults();C.results_.description=B;C.matchersClass=null};jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."};jasmine.Spec.prototype.results=function(){return this.results_};jasmine.Spec.prototype.log=function(){return this.results_.log(arguments)};jasmine.Spec.prototype.runs=function(A){var B=new jasmine.Block(this.env,A,this);this.addToQueue(B);return this};jasmine.Spec.prototype.addToQueue=function(A){if(this.queue.isRunning()){this.queue.insertNext(A)}else{this.queue.add(A)}};jasmine.Spec.prototype.addMatcherResult=function(A){this.results_.addResult(A)};jasmine.Spec.prototype.expect=function(B){var A=new (this.getMatchersClass_())(this.env,B,this);A.not=new (this.getMatchersClass_())(this.env,B,this,true);return A};jasmine.Spec.prototype.waits=function(A){var B=new jasmine.WaitsBlock(this.env,A,this);this.addToQueue(B);return this};jasmine.Spec.prototype.waitsFor=function(D,A,F){var C=null;var I=null;var G=null;for(var E=0;E<arguments.length;E++){var B=arguments[E];switch(typeof B){case"function":C=B;break;case"string":I=B;break;case"number":G=B;break}}var H=new jasmine.WaitsForBlock(this.env,G,C,I,this);this.addToQueue(H);return this};jasmine.Spec.prototype.fail=function(A){var B=new jasmine.ExpectationResult({passed:false,message:A?jasmine.util.formatException(A):"Exception",trace:{stack:A.stack}});this.results_.addResult(B)};jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass};jasmine.Spec.prototype.addMatchers=function(A){var C=this.getMatchersClass_();var B=function(){C.apply(this,arguments)};jasmine.util.inherit(B,C);jasmine.Matchers.wrapInto_(A,B);this.matchersClass=B};jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)};jasmine.Spec.prototype.finish=function(A){this.removeAllSpies();this.finishCallback();if(A){A()}};jasmine.Spec.prototype.after=function(A){if(this.queue.isRunning()){this.queue.add(new jasmine.Block(this.env,A,this),true)}else{this.afterCallbacks.unshift(A)}};jasmine.Spec.prototype.execute=function(A){var B=this;if(!B.env.specFilter(B)){B.results_.skipped=true;B.finish(A);return}this.env.reporter.reportSpecStarting(this);B.env.currentSpec=B;B.addBeforesAndAftersToQueue();B.queue.start(function(){B.finish(A)})};jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){var B=this.env.currentRunner();var A;for(var C=this.suite;C;C=C.parentSuite){for(A=0;A<C.before_.length;A++){this.queue.addBefore(new jasmine.Block(this.env,C.before_[A],this))}}for(A=0;A<B.before_.length;A++){this.queue.addBefore(new jasmine.Block(this.env,B.before_[A],this))}for(A=0;A<this.afterCallbacks.length;A++){this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[A],this),true)}for(C=this.suite;C;C=C.parentSuite){for(A=0;A<C.after_.length;A++){this.queue.add(new jasmine.Block(this.env,C.after_[A],this),true)}}for(A=0;A<B.after_.length;A++){this.queue.add(new jasmine.Block(this.env,B.after_[A],this),true)}};jasmine.Spec.prototype.explodes=function(){throw"explodes function should not have been called"};jasmine.Spec.prototype.spyOn=function(A,B,D){if(A==jasmine.undefined){throw"spyOn could not find an object to spy upon for "+B+"()"}if(!D&&A[B]===jasmine.undefined){throw B+"() method does not exist"}if(!D&&A[B]&&A[B].isSpy){throw new Error(B+" has already been spied upon")}var C=jasmine.createSpy(B);this.spies_.push(C);C.baseObj=A;C.methodName=B;C.originalValue=A[B];A[B]=C;return C};jasmine.Spec.prototype.removeAllSpies=function(){for(var A=0;A<this.spies_.length;A++){var B=this.spies_[A];B.baseObj[B.methodName]=B.originalValue}this.spies_=[]};jasmine.Suite=function(A,D,C,E){var B=this;B.id=A.nextSuiteId?A.nextSuiteId():null;B.description=D;B.queue=new jasmine.Queue(A);B.parentSuite=E;B.env=A;B.before_=[];B.after_=[];B.children_=[];B.suites_=[];B.specs_=[]};jasmine.Suite.prototype.getFullName=function(){var B=this.description;for(var A=this.parentSuite;A;A=A.parentSuite){B=A.description+" "+B}return B};jasmine.Suite.prototype.finish=function(A){this.env.reporter.reportSuiteResults(this);this.finished=true;if(typeof(A)=="function"){A()}};jasmine.Suite.prototype.beforeEach=function(A){A.typeName="beforeEach";this.before_.unshift(A)};jasmine.Suite.prototype.afterEach=function(A){A.typeName="afterEach";this.after_.unshift(A)};jasmine.Suite.prototype.results=function(){return this.queue.results()};jasmine.Suite.prototype.add=function(A){this.children_.push(A);if(A instanceof jasmine.Suite){this.suites_.push(A);this.env.currentRunner().addSuite(A)}else{this.specs_.push(A)}this.queue.add(A)};jasmine.Suite.prototype.specs=function(){return this.specs_};jasmine.Suite.prototype.suites=function(){return this.suites_};jasmine.Suite.prototype.children=function(){return this.children_};jasmine.Suite.prototype.execute=function(A){var B=this;this.queue.start(function(){B.finish(A)})};jasmine.WaitsBlock=function(A,C,B){this.timeout=C;jasmine.Block.call(this,A,null,B)};jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block);jasmine.WaitsBlock.prototype.execute=function(A){if(jasmine.VERBOSE){this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms...")}this.env.setTimeout(function(){A()},this.timeout)};jasmine.WaitsForBlock=function(A,E,C,B,D){this.timeout=E||A.defaultTimeoutInterval;this.latchFunction=C;this.message=B;this.totalTimeSpentWaitingForLatch=0;jasmine.Block.call(this,A,null,D)};jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block);jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10;jasmine.WaitsForBlock.prototype.execute=function(A){if(jasmine.VERBOSE){this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"))}var B;try{B=this.latchFunction.apply(this.spec)}catch(C){this.spec.fail(C);A();return}if(B){A()}else{if(this.totalTimeSpentWaitingForLatch>=this.timeout){var E="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen");this.spec.fail({name:"timeout",message:E});this.abort=true;A()}else{this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT;var D=this;this.env.setTimeout(function(){D.execute(A)},jasmine.WaitsForBlock.TIMEOUT_INCREMENT)}}};jasmine.version_={"major":1,"minor":3,"build":0,"revision":1354052693};