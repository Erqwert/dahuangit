describe("Ext.mixin.Responsive",function(){var H,D,A,E,G,F,C={ipad:{landscape:{width:1024,height:768,orientation:"landscape"},portrait:{height:1024,width:768,orientation:"portrait"}}},B;beforeEach(function(){A=Ext.mixin.Responsive;E=Ext.dom.Element.getOrientation;G=Ext.dom.Element.getViewportWidth;F=Ext.dom.Element.getViewportHeight;Ext.dom.Element.getOrientation=function(){return B.orientation};Ext.dom.Element.getViewportWidth=function(){return B.width};Ext.dom.Element.getViewportHeight=function(){return B.height};H=Ext.define(null,{mixins:["Ext.mixin.Responsive"],config:{title:"Hello",foo:null},responsiveConfig:{landscape:{title:"Landscape"},portrait:{title:"Portrait"}},constructor:function(I){this.initConfig(I)}})});afterEach(function(){Ext.dom.Element.getOrientation=E;Ext.dom.Element.getViewportWidth=G;Ext.dom.Element.getViewportHeight=F;H=null;D=Ext.destroy(D);expect(A.active).toBe(false);expect(A.count).toBe(0)});describe("initialization",function(){beforeEach(function(){B=C.ipad.landscape;A.state={platform:{tablet:true}}});it("should init with landscape from class",function(){D=new H();var I=D.getTitle();expect(I).toBe("Landscape")});it("should init with landscape from class over instanceConfig",function(){D=new H({title:"Foo"});var I=D.getTitle();expect(I).toBe("Landscape")});it("should init with portrait from class",function(){B=C.ipad.portrait;D=new H();var I=D.getTitle();expect(I).toBe("Portrait")});it("should init with wide from instanceConfig",function(){D=new H({responsiveConfig:{wide:{foo:"Wide"},tall:{foo:"Tall"}}});var I=D.getFoo();expect(I).toBe("Wide")});it("should init with tall from instanceConfig",function(){B=C.ipad.portrait;D=new H({responsiveConfig:{wide:{foo:"Wide"},tall:{foo:"Tall"}}});var I=D.getFoo();expect(I).toBe("Tall")});it("should init with landscape from instanceConfig",function(){D=new H({responsiveConfig:{landscape:{title:"Landscape 2"}}});var I=D.getTitle();expect(I).toBe("Landscape 2")});it("should init with portrait not hidden by instanceConfig",function(){B=C.ipad.portrait;D=new H({responsiveConfig:{landscape:{title:"Landscape 2"}}});var I=D.getTitle();expect(I).toBe("Portrait")});it("should init with platform.tablet from instanceConfig",function(){D=new H({responsiveConfig:{"platform.tablet":{foo:"Tablet"}}});var I=D.getFoo();expect(I).toBe("Tablet")});it("should preserve instanceConfig if responsiveConfig has no match",function(){D=new H({foo:"Foo",responsiveConfig:{"platform.desktop":{foo:"Desktop"}}});var I=D.getFoo();expect(I).toBe("Foo")});it("should pick responsiveConfig over instanceConfig",function(){D=new H({foo:"Foo",responsiveConfig:{"platform.tablet":{foo:"Tablet"}}});var I=D.getFoo();expect(I).toBe("Tablet")})});describe("dynamic",function(){beforeEach(function(){B=C.ipad.landscape;A.state={platform:{tablet:true}}});it("should update when responsive state changes",function(){D=new H({responsiveConfig:{wide:{foo:"Wide"},tall:{foo:"Tall"}}});var I=D.getFoo();expect(I).toBe("Wide");B=C.ipad.portrait;A.notify();I=D.getFoo();expect(I).toBe("Tall")})})});