describe("Ext.util.ObjectTemplate",function(){var B,C,A=Ext.Object.chain({direct:false,object:{property:456}});A.text="Don";beforeEach(function(){B=new Ext.util.ObjectTemplate({foo:42,bar:"Hello {text}",baz:"{direct}",array:[427,"Hey {text} {object.property}","{object.property}","{direct}"],object:{prop:3,tpl:"Yo {text}",value:"{direct}",items:[77,"{direct}",{v:"{direct}",x:1,s:"-- {text}"},"Oy {text}"]}});C=B.apply(A)});describe("the root",function(){it("should pass through numbers on the root",function(){expect(C.foo).toBe(42)});it("should apply Ext.Template on the root",function(){expect(C.bar).toBe("Hello Don")});it("should map values on the root",function(){expect(C.baz).toBe(false)})});describe("array on the root",function(){it("should have the correct length",function(){expect(C.array.length).toBe(4)});it("should pass through numbers",function(){expect(C.array[0]).toBe(427)});it("should apply templates",function(){expect(C.array[1]).toBe("Hey Don 456")});it("should pull single values through dotted template expansions",function(){expect(C.array[2]).toBe(456)});it("should pull primitives through simple name expansions",function(){expect(C.array[3]).toBe(false)})});describe("object off the root",function(){describe("properties",function(){it("should pass through numbers",function(){expect(C.object.prop).toBe(3)});it("should apply XTemplate",function(){expect(C.object.tpl).toBe("Yo Don")});it("should map values",function(){expect(C.object.value).toBe(false)})});describe("an array property",function(){it("should have the correct length",function(){expect(C.object.items.length).toBe(4)});it("should pass through numbers",function(){expect(C.object.items[0]).toBe(77)});it("should pull primitives through simple name expansions",function(){expect(C.object.items[1]).toBe(false)});it("should apply XTemplate",function(){expect(C.object.items[3]).toBe("Oy Don")})});describe("an object element of an array property",function(){it("should pull primitives through simple name expansions",function(){expect(C.object.items[2].v).toBe(false)});it("should pass through numbers",function(){expect(C.object.items[2].x).toBe(1)});it("should apply XTemplate",function(){expect(C.object.items[2].s).toBe("-- Don")})})})});