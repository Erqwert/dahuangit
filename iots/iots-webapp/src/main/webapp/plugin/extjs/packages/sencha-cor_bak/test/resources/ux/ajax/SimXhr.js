Ext.define("Ext.ux.ajax.SimXhr",{readyState:0,mgr:null,simlet:null,constructor:function(A){var B=this;Ext.apply(B,A);B.requestHeaders={}},abort:function(){var A=this;if(A.timer){clearTimeout(A.timer);A.timer=null}A.aborted=true},getAllResponseHeaders:function(){var A=[];Ext.Object.each(this.responseHeaders,function(B,C){A.push(B+": "+C)});return A.join("\x0d\x0a")},getResponseHeader:function(B){var A=this.responseHeaders;return(A&&A[B])||null},open:function(D,B,E,F,A){var C=this;C.method=D;C.url=B;C.async=E!==false;C.user=F;C.password=A;C.setReadyState(1)},overrideMimeType:function(A){this.mimeType=A},schedule:function(){var A=this,B=A.mgr.delay;if(B){A.timer=setTimeout(function(){A.onTick()},B)}else{A.onTick()}},send:function(A){var B=this;B.body=A;if(B.async){B.schedule()}else{B.onComplete()}},setReadyState:function(B){var A=this;if(A.readyState!=B){A.readyState=B;A.onreadystatechange()}},setRequestHeader:function(A,B){this.requestHeaders[A]=B},onreadystatechange:Ext.emptyFn,onComplete:function(){var me=this,callback;me.readyState=4;Ext.apply(me,me.simlet.exec(me));callback=me.jsonpCallback;if(callback){var text=callback+"("+me.responseText+")";eval(text)}},onTick:function(){var A=this;A.timer=null;A.onComplete();A.onreadystatechange&&A.onreadystatechange()}});